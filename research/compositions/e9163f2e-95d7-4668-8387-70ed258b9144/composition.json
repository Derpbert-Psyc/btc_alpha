{
  "display_name": "MACD Confluence Bull & Bear",
  "description": "Long-only multi-timeframe MACD alignment. Enter long when 5m momentum inflects upward in direction of 6-TF trend consensus. Exit on daily MACD slope reversal. Fast in, slow out.",
  "archetype_tags": [
    "trend_following",
    "multi_timeframe"
  ],
  "version": "1.0.0",
  "target_engine_version": "1.8.0",
  "min_engine_version": "1.8.0",
  "target_instrument": "BTCUSDT",
  "target_variant": "perp",
  "indicator_instances": [
    {
      "label": "macro_3d",
      "role": "filter",
      "group": "macro",
      "indicator_id": "macd_tv",
      "timeframe": "3d",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "macro_1d",
      "role": "filter",
      "group": "macro",
      "indicator_id": "macd_tv",
      "timeframe": "1d",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "macro_12h",
      "role": "filter",
      "group": "macro",
      "indicator_id": "macd_tv",
      "timeframe": "12h",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "intra_1h",
      "role": "filter",
      "group": "intra",
      "indicator_id": "macd_tv",
      "timeframe": "1h",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "intra_30m",
      "role": "filter",
      "group": "intra",
      "indicator_id": "macd_tv",
      "timeframe": "30m",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "intra_15m",
      "role": "filter",
      "group": "intra",
      "indicator_id": "macd_tv",
      "timeframe": "15m",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "entry_5m",
      "role": "entry_signal",
      "indicator_id": "macd_tv",
      "timeframe": "5m",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "macd_line",
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    },
    {
      "label": "exit_1d",
      "role": "exit_signal",
      "indicator_id": "macd_tv",
      "timeframe": "1d",
      "parameters": {
        "fast": 12,
        "slow": 26,
        "signal": 9
      },
      "outputs_used": [
        "slope_sign"
      ],
      "data_source": "BAR",
      "bar_provider": "EXCHANGE_CANDLES"
    }
  ],
  "entry_rules": [
    {
      "label": "long_entry",
      "direction": "LONG",
      "evaluation_cadence": "5m",
      "entry_type": "MARKET",
      "condition_groups": [
        {
          "label": "macro_alignment",
          "description": "All macro TF MACD slopes must be positive",
          "role_condition": {
            "role": "filter",
            "filter_group": "macro",
            "output": "slope_sign",
            "operator": ">",
            "value": "0",
            "quantifier": "ALL"
          },
          "conditions": [
            {
              "indicator": "macro_3d",
              "output": "slope_sign",
              "operator": ">",
              "value": 0.0
            },
            {
              "indicator": "macro_1d",
              "output": "slope_sign",
              "operator": ">",
              "value": 0.0
            },
            {
              "indicator": "macro_12h",
              "output": "slope_sign",
              "operator": ">",
              "value": 0.0
            }
          ]
        },
        {
          "label": "intra_alignment",
          "description": "All intra TF MACD slopes must be positive",
          "role_condition": {
            "role": "filter",
            "filter_group": "intra",
            "output": "slope_sign",
            "operator": ">",
            "value": "0",
            "quantifier": "ALL"
          },
          "conditions": [
            {
              "indicator": "intra_1h",
              "output": "slope_sign",
              "operator": ">",
              "value": 0.0
            },
            {
              "indicator": "intra_30m",
              "output": "slope_sign",
              "operator": ">",
              "value": 0.0
            },
            {
              "indicator": "intra_15m",
              "output": "slope_sign",
              "operator": ">",
              "value": 0.0
            }
          ]
        }
      ],
      "conditions": [
        {
          "role": "entry_signal",
          "output": "slope_sign",
          "operator": "crosses_above",
          "value": 0.0,
          "indicator": "entry_5m"
        }
      ]
    },
    {
      "label": "SHORT Entry",
      "direction": "SHORT",
      "evaluation_cadence": "15m",
      "conditions": [
        {
          "indicator": "entry_5m",
          "output": "slope_sign",
          "operator": "crosses_below",
          "value": 0
        }
      ],
      "condition_groups": [
        {
          "label": "macroalignment",
          "conditions": [
            {
              "indicator": "macro_3d",
              "output": "slope_sign",
              "operator": "<",
              "value": 0
            },
            {
              "indicator": "macro_1d",
              "output": "slope_sign",
              "operator": "<",
              "value": 0
            },
            {
              "indicator": "macro_12h",
              "output": "slope_sign",
              "operator": "<",
              "value": 0
            }
          ]
        },
        {
          "label": "intra_alignment",
          "conditions": [
            {
              "indicator": "intra_1h",
              "output": "slope_sign",
              "operator": "<",
              "value": 0
            },
            {
              "indicator": "intra_30m",
              "output": "slope_sign",
              "operator": ">",
              "value": 0
            },
            {
              "indicator": "intra_15m",
              "output": "slope_sign",
              "operator": ">",
              "value": 0
            }
          ]
        }
      ]
    }
  ],
  "exit_rules": [
    {
      "label": "long_signal_exit",
      "exit_type": "SIGNAL",
      "applies_to": [
        "LONG"
      ],
      "evaluation_cadence": "1d",
      "conditions": [
        {
          "indicator": "exit_1d",
          "output": "slope_sign",
          "operator": "<",
          "value": 0.0
        }
      ]
    },
    {
      "label": "short_signal_exit",
      "exit_type": "SIGNAL",
      "applies_to": [
        "SHORT"
      ],
      "evaluation_cadence": "1d",
      "conditions": [
        {
          "indicator": "exit_1d",
          "output": "slope_sign",
          "operator": ">",
          "value": 0
        }
      ]
    }
  ],
  "gate_rules": [],
  "execution_params": {
    "direction": "BOTH",
    "leverage": 1.0,
    "position_sizing": {
      "mode": "RISK_FRACTION",
      "risk_fraction_bps": 10000
    },
    "flip_enabled": false,
    "funding_model": {}
  },
  "metadata": {
    "spec_version": "1.5.2",
    "thesis": "Single-pod trend harvester deploying capital into whichever direction the full timeframe stack confirms. Entry gate requires unanimous 6-TF agreement (3d, 1d, 12h, 1h, 30m, 15m) plus 5m trigger inflection. Exit is asymmetrically slow (1d cadence). LONG and SHORT paths are structurally mutually exclusive — no overlap possible. Merged from separate Long and Short compositions to consolidate capital into one pod. 311 trades across 2018–2026, Tier S, all 6 triage tests PASS. Single-pod trend harvester deploying capital into whichever direction the full timeframe stack confirms. Entry gate requires unanimous 6-TF agreement (3d, 1d, 12h, 1h, 30m, 15m) plus 5m trigger inflection. Exit is asymmetrically slow (1d cadence). LONG and SHORT paths are structurally mutually exclusive — no overlap possible. Merged from separate Long and Short compositions to consolidate capital into one pod. 311 trades across 2018–2026, Tier S, all 6 triage tests PASS.",
    "known_risks": [
      "81-day warmup from 3D MACD — first 81 days produce no trades",
      "Inactive in low-volatility sideways markets (zero slope on any TF blocks entry)",
      "1D exit cadence means exits can be delayed up to 24h after reversal signal"
    ],
    "triage_sensitive_params": [
      {
        "param": "fast_period",
        "default": 12,
        "min": 6,
        "max": 20
      },
      {
        "param": "slow_period",
        "default": 26,
        "min": 16,
        "max": 52
      }
    ],
    "research_notes": [],
    "user_tags": [
      "trend",
      "macd",
      "multi_tf",
      "long_only"
    ],
    "forked_from": "146afe24-7e03-4109-a6eb-40f7d20e5e32",
    "created": "2026-02-14T12:29:41.404246+00:00",
    "updated_at": "2026-02-14T12:43:26.811376+00:00"
  },
  "composition_id": "e9163f2e-95d7-4668-8387-70ed258b9144",
  "spec_version": "1.5.2"
}